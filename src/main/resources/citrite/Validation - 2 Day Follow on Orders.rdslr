package net.citrite.pip.claim_validation_poc;

import net.citrite.pip.sfdc.Order;
import net.citrite.pip.sfdc.OriginalOrder;
import net.citrite.pip.bre.Validation;
import net.citrite.pip.canonical.bre.BREObjectSFDC;

rule "Validation - 2 Day Follow on Orders" extends "Is Follow On Order"
	dialect "mvel"
	when
		>BREObjectSFDC( d2 : request.originalOrder.creation_Date, d1 : request.order.orderHeader.order_Creation_Date, orderId : request.order.orderHeader.order_ID)
		Days between d1 and d2 are greater than 2
		>bre : BREObjectSFDC( )
	then
		>bre.registerValidation( orderId, "Minimum Follow On Order Timeline Unmet", "STANDARD", "FAIL", true );
end
